<div class="card detailCard" *ngIf="selectedSmartItem$ | async as selectedSmartItem">
  {{selectedSmartItem | json}}
  <div class="card-body d-flex flex-column rounded shadow-sm">
    <div *ngIf="!selectedSmartItem">
      Select a smart item to view its details.
    </div>
    <div *ngIf="selectedSmartItem" style="text-align: center">
      <h4>Smart Item details</h4>
      <form [formGroup]="smartItemForm" (ngSubmit)="updateSmartItem()">
        <h6 style="text-align: center; margin-top: 20px;">Status: </h6>
        <div class="row justify-content-center mb-3">
          Off
          <div *ngIf="selectedSmartItem.on" class="custom-control custom-switch" style="margin-left: 7px">
            <input type="checkbox" class="custom-control-input" id="customSwitches1" checked (click)="toggleSmartItem(false)">
            <label class="custom-control-label" for="customSwitches1">On</label>
          </div>
          <div *ngIf="!selectedSmartItem.on" class="custom-control custom-switch" style="margin-left: 7px">
            <input type="checkbox" class="custom-control-input" id="customSwitches2" (click)="toggleSmartItem(true)">
            <label class="custom-control-label" for="customSwitches2">On</label>
          </div>
        </div>

        <div class="form-group row">
          <label for="name" class="col-sm-3 col-form-label">Name</label>
          <div class="col-sm-9 form-inline">
            <input type="text" class="form-control" formControlName="name" id="name">
            <span class="validity"></span>
          </div>
        </div>

        <div class="form-group row">
          <label for="category" class="col-sm-3 col-form-label">Category</label>
          <div class="col-sm-9 form-inline">
            <select formControlName="category" id="category" class="form-control">
              <option *ngFor="let category of categories$ | async" [value]="category.id">{{category.name}}</option>
            </select>
            <span class="validity"></span>
          </div>
        </div>

        <div class="form-group row">
          <label for="xPos" class="col-sm-3 col-form-label">X-pos</label>
          <div class="col-sm-9 form-inline">
            <input type="text" class="form-control" formControlName="xPos" id="xPos">
            <span class="validity"></span>
          </div>
        </div>

        <div class="form-group row">
          <label for="yPos" class="col-sm-3 col-form-label">Y-pos</label>
          <div class="col-sm-9 form-inline">
            <input type="text" class="form-control" formControlName="yPos" id="yPos">
            <span class="validity"></span>
          </div>
        </div>

        <div class="row mt-auto">
          <button class="btn btn-primary mr-1 ml-auto" type="submit">Update</button>
          <button class="btn btn-primary mr-3" type="button" (click)="deleteSmartItem()">Delete</button>
        </div>
      </form>
    </div>
  </div>
</div>
